{"remainingRequest":"C:\\Users\\epsil\\Documents\\vuefire-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\epsil\\Documents\\vuefire-project\\src\\components\\privado.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\epsil\\Documents\\vuefire-project\\src\\components\\privado.vue","mtime":1581341358900},{"path":"C:\\Users\\epsil\\Documents\\vuefire-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\Documents\\vuefire-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\Documents\\vuefire-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\Documents\\vuefire-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7ZGJ9IGZyb20gIi4uL2RiLmpzIgppbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UiCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3ByaXZhZG8nLAogIGNvbXBvbmVudHM6IHsKICAgIAogIH0sCiAgZGF0YTogZnVuY3Rpb24oKXsKICAJcmV0dXJuIHsKICAJCWxpc3RhTm90YXM6IFtdLAogIAkJZmljaGVybzogbnVsbCwKICAJCW51ZXZhTm90YTp7CiAgCQkJdGV4dG86IiIsCiAgCQkJYXV0b3I6IiIsCiAgCQkJYXJjaGl2bzogewogIAkJCQlub21icmU6IiIsCiAgCQkJCXVybDoiIgogIAkJCX0KICAJCX0KICAJfQogIH0sCiAgZmlyZXN0b3JlOiB7CiAgCWxpc3RhTm90YXM6IGRiLmNvbGxlY3Rpb24oJ2xpc3RhLW5vdGFzJykKICB9LAogIG1ldGhvZHM6ewogIAlBZGROb3RhOiBmdW5jdGlvbigpewogIAkJZmlyZWJhc2Uuc3RvcmFnZSgpLnJlZih0aGlzLmZpY2hlcm8ubmFtZSkucHV0KHRoaXMuZmljaGVybyk7CiAgCQlmaXJlYmFzZS5zdG9yYWdlKCkucmVmKCkuY2hpbGQodGhpcy5maWNoZXJvLm5hbWUpLmdldERvd25sb2FkVVJMKCkudGhlbigKICAJCQl1cmwgPT57CiAgCQkJCWlmKHRoaXMubnVldmFOb3RhLnRleHRvICE9ICIiICYmIHRoaXMuZmljaGVybyAhPSBudWxsKXsKCQkgIAkJCWRiLmNvbGxlY3Rpb24oJ2xpc3RhLW5vdGFzJykuYWRkKHsKCQkgIAkJCQl0ZXh0bzogdGhpcy5udWV2YU5vdGEudGV4dG8sCgkJICAJCQkJYXV0b3I6IGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbCwKCQkgIAkJCQlhcmNoaXZvOiB7CgkJICAJCQkJCW5vbWJyZTogdGhpcy5maWNoZXJvLm5hbWUsCgkJICAJCQkJCXVybDogdXJsCgkJICAJCQkJfQoJCSAgCQkJfSk7CgkJICAJCXRoaXMubnVldmFOb3RhLnRleHRvID0gIiI7CgkJICAJCX1lbHNlewoJCSAgCQkJYWxlcnQoIlNvbWUgZmllbGRzIGFyZSBlbXB0eS4iKTsKCQkgIAkJfQogIAkJCX0KICAJCSkKICAJfSwKICAJYWRkRmlsZTogZnVuY3Rpb24oZXZlbnQpewogIAkJdGhpcy5maWNoZXJvID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogIAl9LAogIAlkZWxldGVOb3RhOiBmdW5jdGlvbihub3RhKXsKICAJCWRiLmNvbGxlY3Rpb24oImxpc3RhLW5vdGFzIikuZG9jKG5vdGEuaWQpLmRlbGV0ZSgpLnRoZW4oKCkgPT4gewoJICAgIGNvbnNvbGUubG9nKCJEb2N1bWVudCBzdWNjZXNzZnVsbHkgZGVsZXRlZCEiKTsKCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCSAgICBjb25zb2xlLmVycm9yKCJFcnJvciByZW1vdmluZyBkb2N1bWVudDogIiwgZXJyb3IpOwoJCX0pOwogIAl9LAogIAlMb2dPdXQ6IGZ1bmN0aW9uKCl7CiAgCQlmaXJlYmFzZS5hdXRoKCkuc2lnbk91dCgpLnRoZW4oZnVuY3Rpb24oKSB7CgkJICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnbG9naW4nKTsKCQl9KS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCSAgLy8gQW4gZXJyb3IgaGFwcGVuZWQuCgkJfSk7CiAgCX0KICB9Cn0K"},{"version":3,"sources":["privado.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"privado.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n<div>\r\n    <nav class=\"navbar navbar-dark bg-primary\">\r\n        <a href=\"/\" class=\"navbar-brand\">Ejemplo Vue+Firebase</a>\r\n        <button type=\"button\" class=\"btn btn-secondary ml-auto\" v-on:click=\"LogOut\">Log out</button>\r\n    </nav>\r\n    <div class=\"container\">\r\n        <div class=\"row mt-5\">\r\n            <div class=\"col-sm-4\">\r\n                <div class=\"card shadow\" style=\"width: 18rem;\">\r\n                    <div class=\"card-header\">\r\n                        Agrega una nueva tarea\r\n                        <div class=\"card-body\">\r\n                            <form @submit.prevent=\"AddNota\">\r\n                                <div class=\"form-group\">\r\n                                    <input type=\"text\" class=\"form-control mt-2\" v-model=\"nuevaNota.texto\" placeholder=\"Texto\">\r\n                                    <input type=\"file\" class=\"form-control-file mt-5\" v-on:change=\"addFile\">\r\n                                    <button type=\"submit\" class=\"btn btn-primary mt-5\">Upload</button>\r\n                                    <p>(Hay que darle 2 veces)</p>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-8 text-center\">\r\n                <div class=\"card shadow\" style=\"width: 50rem;\">\r\n                    <div class=\"card-header\">\r\n                        Lista Tareas\r\n                        <div class=\"card-body\">\r\n                            <table class=\"table table-striped table-bordered table-hover\">\r\n                              <thead class=\"thead-dark\">\r\n\t                              <tr>\r\n\t                              \t<th>Autor</th>\r\n\t                              \t<th>Texto</th>\r\n\t                              \t<th>Archivo</th>\r\n\t                              \t<th>Operaciones</th>\r\n\t                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n\t                              <tr v-for=\"nota in listaNotas\">\r\n\t                              \t<td>{{nota.autor}}</td>\r\n\t                              \t<td>{{nota.texto}}</td>\r\n\t                              \t<td><a :href=\"nota.archivo.url\">{{nota.archivo.nombre}}</a></td>\r\n\t                              \t<td><button type=\"text\" class=\"btn btn-danger\" v-on:click=\"deleteNota(nota)\">Eliminar</button></td>\r\n\t                              </tr>\r\n                         \t </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\timport {db} from \"../db.js\"\r\n\timport firebase from \"firebase\"\r\n\r\n\texport default {\r\n\t  name: 'privado',\r\n\t  components: {\r\n\t    \r\n\t  },\r\n\t  data: function(){\r\n\t  \treturn {\r\n\t  \t\tlistaNotas: [],\r\n\t  \t\tfichero: null,\r\n\t  \t\tnuevaNota:{\r\n\t  \t\t\ttexto:\"\",\r\n\t  \t\t\tautor:\"\",\r\n\t  \t\t\tarchivo: {\r\n\t  \t\t\t\tnombre:\"\",\r\n\t  \t\t\t\turl:\"\"\r\n\t  \t\t\t}\r\n\t  \t\t}\r\n\t  \t}\r\n\t  },\r\n\t  firestore: {\r\n\t  \tlistaNotas: db.collection('lista-notas')\r\n\t  },\r\n\t  methods:{\r\n\t  \tAddNota: function(){\r\n\t  \t\tfirebase.storage().ref(this.fichero.name).put(this.fichero);\r\n\t  \t\tfirebase.storage().ref().child(this.fichero.name).getDownloadURL().then(\r\n\t  \t\t\turl =>{\r\n\t  \t\t\t\tif(this.nuevaNota.texto != \"\" && this.fichero != null){\r\n\t\t\t  \t\t\tdb.collection('lista-notas').add({\r\n\t\t\t  \t\t\t\ttexto: this.nuevaNota.texto,\r\n\t\t\t  \t\t\t\tautor: firebase.auth().currentUser.email,\r\n\t\t\t  \t\t\t\tarchivo: {\r\n\t\t\t  \t\t\t\t\tnombre: this.fichero.name,\r\n\t\t\t  \t\t\t\t\turl: url\r\n\t\t\t  \t\t\t\t}\r\n\t\t\t  \t\t\t});\r\n\t\t\t  \t\tthis.nuevaNota.texto = \"\";\r\n\t\t\t  \t\t}else{\r\n\t\t\t  \t\t\talert(\"Some fields are empty.\");\r\n\t\t\t  \t\t}\r\n\t  \t\t\t}\r\n\t  \t\t)\r\n\t  \t},\r\n\t  \taddFile: function(event){\r\n\t  \t\tthis.fichero = event.target.files[0];\r\n\t  \t},\r\n\t  \tdeleteNota: function(nota){\r\n\t  \t\tdb.collection(\"lista-notas\").doc(nota.id).delete().then(() => {\r\n\t\t    console.log(\"Document successfully deleted!\");\r\n\t\t\t}).catch(function(error) {\r\n\t\t\t    console.error(\"Error removing document: \", error);\r\n\t\t\t});\r\n\t  \t},\r\n\t  \tLogOut: function(){\r\n\t  \t\tfirebase.auth().signOut().then(function() {\r\n\t\t\t  this.$router.replace('login');\r\n\t\t\t}).catch(function(error) {\r\n\t\t\t  // An error happened.\r\n\t\t\t});\r\n\t  \t}\r\n\t  }\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#app {\r\n\t  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t  -webkit-font-smoothing: antialiased;\r\n\t  -moz-osx-font-smoothing: grayscale;\r\n\t  color: #2c3e50;\r\n\t}\r\n</style>"]}]}