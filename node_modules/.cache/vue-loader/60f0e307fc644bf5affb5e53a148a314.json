{"remainingRequest":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\epsil\\vuejs\\vuefire-pwa\\src\\components\\privado.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\src\\components\\privado.vue","mtime":1581341358900},{"path":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\epsil\\vuejs\\vuefire-pwa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2FwcCB7CiAgZm9udC1mYW1pbHk6ICdBdmVuaXInLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwogIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkOwogIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7CiAgY29sb3I6ICMyYzNlNTA7Cn0K"},{"version":3,"sources":["privado.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA","file":"privado.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\r\n<div>\r\n    <nav class=\"navbar navbar-dark bg-primary\">\r\n        <a href=\"/\" class=\"navbar-brand\">Ejemplo Vue+Firebase</a>\r\n        <button type=\"button\" class=\"btn btn-secondary ml-auto\" v-on:click=\"LogOut\">Log out</button>\r\n    </nav>\r\n    <div class=\"container\">\r\n        <div class=\"row mt-5\">\r\n            <div class=\"col-sm-4\">\r\n                <div class=\"card shadow\" style=\"width: 18rem;\">\r\n                    <div class=\"card-header\">\r\n                        Agrega una nueva tarea\r\n                        <div class=\"card-body\">\r\n                            <form @submit.prevent=\"AddNota\">\r\n                                <div class=\"form-group\">\r\n                                    <input type=\"text\" class=\"form-control mt-2\" v-model=\"nuevaNota.texto\" placeholder=\"Texto\">\r\n                                    <input type=\"file\" class=\"form-control-file mt-5\" v-on:change=\"addFile\">\r\n                                    <button type=\"submit\" class=\"btn btn-primary mt-5\">Upload</button>\r\n                                    <p>(Hay que darle 2 veces)</p>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-sm-8 text-center\">\r\n                <div class=\"card shadow\" style=\"width: 50rem;\">\r\n                    <div class=\"card-header\">\r\n                        Lista Tareas\r\n                        <div class=\"card-body\">\r\n                            <table class=\"table table-striped table-bordered table-hover\">\r\n                              <thead class=\"thead-dark\">\r\n\t                              <tr>\r\n\t                              \t<th>Autor</th>\r\n\t                              \t<th>Texto</th>\r\n\t                              \t<th>Archivo</th>\r\n\t                              \t<th>Operaciones</th>\r\n\t                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n\t                              <tr v-for=\"nota in listaNotas\">\r\n\t                              \t<td>{{nota.autor}}</td>\r\n\t                              \t<td>{{nota.texto}}</td>\r\n\t                              \t<td><a :href=\"nota.archivo.url\">{{nota.archivo.nombre}}</a></td>\r\n\t                              \t<td><button type=\"text\" class=\"btn btn-danger\" v-on:click=\"deleteNota(nota)\">Eliminar</button></td>\r\n\t                              </tr>\r\n                         \t </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n\timport {db} from \"../db.js\"\r\n\timport firebase from \"firebase\"\r\n\r\n\texport default {\r\n\t  name: 'privado',\r\n\t  components: {\r\n\t    \r\n\t  },\r\n\t  data: function(){\r\n\t  \treturn {\r\n\t  \t\tlistaNotas: [],\r\n\t  \t\tfichero: null,\r\n\t  \t\tnuevaNota:{\r\n\t  \t\t\ttexto:\"\",\r\n\t  \t\t\tautor:\"\",\r\n\t  \t\t\tarchivo: {\r\n\t  \t\t\t\tnombre:\"\",\r\n\t  \t\t\t\turl:\"\"\r\n\t  \t\t\t}\r\n\t  \t\t}\r\n\t  \t}\r\n\t  },\r\n\t  firestore: {\r\n\t  \tlistaNotas: db.collection('lista-notas')\r\n\t  },\r\n\t  methods:{\r\n\t  \tAddNota: function(){\r\n\t  \t\tfirebase.storage().ref(this.fichero.name).put(this.fichero);\r\n\t  \t\tfirebase.storage().ref().child(this.fichero.name).getDownloadURL().then(\r\n\t  \t\t\turl =>{\r\n\t  \t\t\t\tif(this.nuevaNota.texto != \"\" && this.fichero != null){\r\n\t\t\t  \t\t\tdb.collection('lista-notas').add({\r\n\t\t\t  \t\t\t\ttexto: this.nuevaNota.texto,\r\n\t\t\t  \t\t\t\tautor: firebase.auth().currentUser.email,\r\n\t\t\t  \t\t\t\tarchivo: {\r\n\t\t\t  \t\t\t\t\tnombre: this.fichero.name,\r\n\t\t\t  \t\t\t\t\turl: url\r\n\t\t\t  \t\t\t\t}\r\n\t\t\t  \t\t\t});\r\n\t\t\t  \t\tthis.nuevaNota.texto = \"\";\r\n\t\t\t  \t\t}else{\r\n\t\t\t  \t\t\talert(\"Some fields are empty.\");\r\n\t\t\t  \t\t}\r\n\t  \t\t\t}\r\n\t  \t\t)\r\n\t  \t},\r\n\t  \taddFile: function(event){\r\n\t  \t\tthis.fichero = event.target.files[0];\r\n\t  \t},\r\n\t  \tdeleteNota: function(nota){\r\n\t  \t\tdb.collection(\"lista-notas\").doc(nota.id).delete().then(() => {\r\n\t\t    console.log(\"Document successfully deleted!\");\r\n\t\t\t}).catch(function(error) {\r\n\t\t\t    console.error(\"Error removing document: \", error);\r\n\t\t\t});\r\n\t  \t},\r\n\t  \tLogOut: function(){\r\n\t  \t\tfirebase.auth().signOut().then(function() {\r\n\t\t\t  this.$router.replace('login');\r\n\t\t\t}).catch(function(error) {\r\n\t\t\t  // An error happened.\r\n\t\t\t});\r\n\t  \t}\r\n\t  }\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#app {\r\n\t  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n\t  -webkit-font-smoothing: antialiased;\r\n\t  -moz-osx-font-smoothing: grayscale;\r\n\t  color: #2c3e50;\r\n\t}\r\n</style>"]}]}